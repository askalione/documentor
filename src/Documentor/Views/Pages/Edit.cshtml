@using Documentor.Models.Pages;
@model Page
@{
    Title = Model.Context.Metadata.Title;
    Description = Model.Context.Metadata.Description;
}

@section Styles {
    <link asp-href-include="~/assets/css/vendors/simplemde.min.css" rel="stylesheet">
    <link asp-href-include="~/assets/css/app/app-editor.min.css" rel="stylesheet">
}

@section PageActions {
    <a href="/@Model.Context.Path.Location.GetVirtualPath()" class="page__action la la-undo" title="Back to view page"></a>
}

<div class="page-content">
    <div class="page__editor">
        <div class="page__editor-overlay"></div>
        <form action="/m/Edit/@Model.Context.Path.Location.GetVirtualPath()" method="POST" class="page__editor-form">
            <textarea id="editor" name="markdown" style="display: none;">@Model.Data.Markdown</textarea>
            @Html.Hidden("virtualPath", Model.Context.Path.Location.GetVirtualPath())
        </form>
    </div>
</div>

@section Scripts {
    <script asp-src-include="~/assets/js/vendors/simplemde.min.js"></script>
    <script asp-src-include="~/assets/js/app/app-editor.min.js"></script>
}
